<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>S</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Comment">--I&#39;d like to write the Limit in Sets Category using Agda. Assuming local smallness, a functor is a pair of map on Set OC and I, like this.</a>
<a id="142" class="Comment">--</a>
<a id="145" class="Comment">--     sobj :  OC →  Set  c₂</a>
<a id="174" class="Comment">--     smap : { i j :  OC  }  → (f : I ) →  sobj i → sobj j</a>
<a id="234" class="Comment">--</a>
<a id="237" class="Comment">--A cone for the functor is a record with two fields. Using the record, commutativity of the cone and the propertiesy of the Limit</a>
<a id="368" class="Comment">--are easity shown, except uniquness. The uniquness of the Limit turned out that congruence of the record with two fields.</a>
<a id="491" class="Comment">--</a>
<a id="494" class="Comment">--In the following agda code, I&#39;d like to prove snat-cong lemma.</a>

    <a id="564" class="Comment">-- {-# OPTIONS --cubical-compatible --safe #-}</a>
    <a id="615" class="Keyword">open</a> <a id="620" class="Keyword">import</a> <a id="627" href="Level.html" class="Module">Level</a>
    <a id="637" class="Keyword">module</a> <a id="644" href="S.html" class="Module">S</a> <a id="646" class="Keyword">where</a>

    <a id="657" class="Keyword">open</a> <a id="662" class="Keyword">import</a> <a id="669" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a>
    <a id="694" class="Keyword">open</a> <a id="699" class="Keyword">import</a> <a id="706" href="Function.html" class="Module">Function</a>
    <a id="719" class="Keyword">open</a> <a id="724" class="Keyword">import</a> <a id="731" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
    <a id="773" class="Keyword">open</a> <a id="778" class="Keyword">import</a> <a id="785" href="Relation.Binary.HeterogeneousEquality.html" class="Module">Relation.Binary.HeterogeneousEquality</a> <a id="823" class="Keyword">using</a> <a id="829" class="Symbol">(</a><a id="830" href="Relation.Binary.HeterogeneousEquality.Core.html#681" class="Datatype Operator">_≅_</a><a id="833" class="Symbol">;</a><a id="834" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">refl</a><a id="838" class="Symbol">)</a>

    <a id="845" class="Keyword">record</a> <a id="snat"></a><a id="852" href="S.html#852" class="Record">snat</a>   <a id="859" class="Symbol">{</a> <a id="861" href="S.html#861" class="Bound">c₂</a> <a id="864" class="Symbol">}</a>  <a id="867" class="Symbol">{</a> <a id="869" href="S.html#869" class="Bound">I</a> <a id="871" href="S.html#871" class="Bound">OC</a> <a id="874" class="Symbol">:</a>  <a id="877" href="Agda.Primitive.html#388" class="Primitive">Set</a>  <a id="882" href="S.html#861" class="Bound">c₂</a> <a id="885" class="Symbol">}</a> <a id="887" class="Symbol">(</a> <a id="889" href="S.html#889" class="Bound">sobj</a> <a id="894" class="Symbol">:</a>  <a id="897" href="S.html#871" class="Bound">OC</a> <a id="900" class="Symbol">→</a>  <a id="903" href="Agda.Primitive.html#388" class="Primitive">Set</a>  <a id="908" href="S.html#861" class="Bound">c₂</a> <a id="911" class="Symbol">)</a>
         <a id="922" class="Symbol">(</a> <a id="924" href="S.html#924" class="Bound">smap</a> <a id="929" class="Symbol">:</a> <a id="931" class="Symbol">{</a> <a id="933" href="S.html#933" class="Bound">i</a> <a id="935" href="S.html#935" class="Bound">j</a> <a id="937" class="Symbol">:</a>  <a id="940" href="S.html#871" class="Bound">OC</a>  <a id="944" class="Symbol">}</a>  <a id="947" class="Symbol">→</a> <a id="949" class="Symbol">(</a><a id="950" href="S.html#950" class="Bound">f</a> <a id="952" class="Symbol">:</a> <a id="954" href="S.html#869" class="Bound">I</a> <a id="956" class="Symbol">)</a> <a id="958" class="Symbol">→</a>  <a id="961" href="S.html#889" class="Bound">sobj</a> <a id="966" href="S.html#933" class="Bound">i</a> <a id="968" class="Symbol">→</a> <a id="970" href="S.html#889" class="Bound">sobj</a> <a id="975" href="S.html#935" class="Bound">j</a> <a id="977" class="Symbol">)</a> <a id="979" class="Symbol">:</a> <a id="981" href="Agda.Primitive.html#388" class="Primitive">Set</a>  <a id="986" href="S.html#861" class="Bound">c₂</a> <a id="989" class="Keyword">where</a>
       <a id="1002" class="Keyword">field</a>
           <a id="snat.snmap"></a><a id="1019" href="S.html#1019" class="Field">snmap</a> <a id="1025" class="Symbol">:</a> <a id="1027" class="Symbol">(</a> <a id="1029" href="S.html#1029" class="Bound">i</a> <a id="1031" class="Symbol">:</a> <a id="1033" href="S.html#871" class="Bound">OC</a> <a id="1036" class="Symbol">)</a> <a id="1038" class="Symbol">→</a> <a id="1040" href="S.html#889" class="Bound">sobj</a> <a id="1045" href="S.html#1029" class="Bound">i</a>
           <a id="snat.sncommute"></a><a id="1058" href="S.html#1058" class="Field">sncommute</a> <a id="1068" class="Symbol">:</a> <a id="1070" class="Symbol">(</a> <a id="1072" href="S.html#1072" class="Bound">i</a> <a id="1074" href="S.html#1074" class="Bound">j</a> <a id="1076" class="Symbol">:</a> <a id="1078" href="S.html#871" class="Bound">OC</a> <a id="1081" class="Symbol">)</a> <a id="1083" class="Symbol">→</a> <a id="1085" class="Symbol">(</a> <a id="1087" href="S.html#1087" class="Bound">f</a> <a id="1089" class="Symbol">:</a>  <a id="1092" href="S.html#869" class="Bound">I</a> <a id="1094" class="Symbol">)</a> <a id="1096" class="Symbol">→</a>  <a id="1099" href="S.html#924" class="Bound">smap</a> <a id="1104" href="S.html#1087" class="Bound">f</a> <a id="1106" class="Symbol">(</a> <a id="1108" href="S.html#1019" class="Field">snmap</a> <a id="1114" href="S.html#1072" class="Bound">i</a> <a id="1116" class="Symbol">)</a>  <a id="1119" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1121" href="S.html#1019" class="Field">snmap</a> <a id="1127" href="S.html#1074" class="Bound">j</a>
       <a id="snat.smap0"></a><a id="1136" href="S.html#1136" class="Function">smap0</a> <a id="1142" class="Symbol">:</a>  <a id="1145" class="Symbol">{</a> <a id="1147" href="S.html#1147" class="Bound">i</a> <a id="1149" href="S.html#1149" class="Bound">j</a> <a id="1151" class="Symbol">:</a>  <a id="1154" href="S.html#871" class="Bound">OC</a>  <a id="1158" class="Symbol">}</a>  <a id="1161" class="Symbol">→</a> <a id="1163" class="Symbol">(</a><a id="1164" href="S.html#1164" class="Bound">f</a> <a id="1166" class="Symbol">:</a> <a id="1168" href="S.html#869" class="Bound">I</a> <a id="1170" class="Symbol">)</a> <a id="1172" class="Symbol">→</a>  <a id="1175" href="S.html#889" class="Bound">sobj</a> <a id="1180" href="S.html#1147" class="Bound">i</a> <a id="1182" class="Symbol">→</a> <a id="1184" href="S.html#889" class="Bound">sobj</a> <a id="1189" href="S.html#1149" class="Bound">j</a>
       <a id="1198" href="S.html#1136" class="Function">smap0</a> <a id="1204" class="Symbol">{</a><a id="1205" href="S.html#1205" class="Bound">i</a><a id="1206" class="Symbol">}</a> <a id="1208" class="Symbol">{</a><a id="1209" href="S.html#1209" class="Bound">j</a><a id="1210" class="Symbol">}</a> <a id="1212" href="S.html#1212" class="Bound">f</a> <a id="1214" href="S.html#1214" class="Bound">x</a> <a id="1216" class="Symbol">=</a>  <a id="1219" href="S.html#924" class="Bound">smap</a> <a id="1224" href="S.html#1212" class="Bound">f</a> <a id="1226" href="S.html#1214" class="Bound">x</a>

    <a id="1233" class="Keyword">open</a> <a id="1238" href="S.html#852" class="Module">snat</a>

    <a id="1248" class="Comment">-- snat-cong&#39; :  { c : Level }  { I OC :  Set  c }  { SObj :  OC →  Set  c  } { SMap : { i j :  OC  }  → (f : I )→  SObj i → SObj j }</a>
    <a id="1386" class="Comment">--          ( s t :  snat SObj SMap   )</a>
    <a id="1430" class="Comment">--      → ( ( λ i  → snmap s i )  ≡  ( λ i →  snmap t i ) )</a>
    <a id="1494" class="Comment">--      → ( ( λ i j f →  smap0 s f ( snmap s i )  ≡ snmap s j   ) ≡ (  ( λ  i j f → smap0 t f ( snmap t i )  ≡ snmap t j ) ) )</a>
    <a id="1625" class="Comment">--      → s ≡ t</a>
    <a id="1645" class="Comment">-- snat-cong&#39; s t refl refl = {!!}</a>

    <a id="snat-cong"></a><a id="1685" href="S.html#1685" class="Function">snat-cong</a> <a id="1695" class="Symbol">:</a> <a id="1697" class="Symbol">{</a><a id="1698" href="S.html#1698" class="Bound">c</a> <a id="1700" class="Symbol">:</a> <a id="1702" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1707" class="Symbol">}</a>
                <a id="1725" class="Symbol">{</a><a id="1726" href="S.html#1726" class="Bound">I</a> <a id="1728" href="S.html#1728" class="Bound">OC</a> <a id="1731" class="Symbol">:</a> <a id="1733" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1737" href="S.html#1698" class="Bound">c</a><a id="1738" class="Symbol">}</a>
                <a id="1756" class="Symbol">{</a><a id="1757" href="S.html#1757" class="Bound">sobj</a> <a id="1762" class="Symbol">:</a> <a id="1764" href="S.html#1728" class="Bound">OC</a> <a id="1767" class="Symbol">→</a> <a id="1769" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1773" href="S.html#1698" class="Bound">c</a><a id="1774" class="Symbol">}</a>
                <a id="1792" class="Symbol">{</a><a id="1793" href="S.html#1793" class="Bound">smap</a> <a id="1798" class="Symbol">:</a> <a id="1800" class="Symbol">{</a><a id="1801" href="S.html#1801" class="Bound">i</a> <a id="1803" href="S.html#1803" class="Bound">j</a> <a id="1805" class="Symbol">:</a> <a id="1807" href="S.html#1728" class="Bound">OC</a><a id="1809" class="Symbol">}</a>  <a id="1812" class="Symbol">→</a> <a id="1814" class="Symbol">(</a><a id="1815" href="S.html#1815" class="Bound">f</a> <a id="1817" class="Symbol">:</a> <a id="1819" href="S.html#1726" class="Bound">I</a><a id="1820" class="Symbol">)</a> <a id="1822" class="Symbol">→</a> <a id="1824" href="S.html#1757" class="Bound">sobj</a> <a id="1829" href="S.html#1801" class="Bound">i</a> <a id="1831" class="Symbol">→</a> <a id="1833" href="S.html#1757" class="Bound">sobj</a> <a id="1838" href="S.html#1803" class="Bound">j</a><a id="1839" class="Symbol">}</a>
              <a id="1855" class="Symbol">→</a> <a id="1857" class="Symbol">(</a><a id="1858" href="S.html#1858" class="Bound">s</a> <a id="1860" href="S.html#1860" class="Bound">t</a> <a id="1862" class="Symbol">:</a> <a id="1864" href="S.html#852" class="Record">snat</a> <a id="1869" href="S.html#1757" class="Bound">sobj</a> <a id="1874" href="S.html#1793" class="Bound">smap</a><a id="1878" class="Symbol">)</a>
              <a id="1894" class="Symbol">→</a> <a id="1896" class="Symbol">(</a><a id="1897" href="S.html#1897" class="Bound">snmap-≡</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="S.html#1019" class="Field">snmap</a> <a id="1913" href="S.html#1858" class="Bound">s</a> <a id="1915" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1917" href="S.html#1019" class="Field">snmap</a> <a id="1923" href="S.html#1860" class="Bound">t</a><a id="1924" class="Symbol">)</a>
              <a id="1940" class="Symbol">→</a> <a id="1942" class="Symbol">(</a><a id="1943" href="S.html#1943" class="Bound">sncommute-≅</a> <a id="1955" class="Symbol">:</a> <a id="1957" href="S.html#1058" class="Field">sncommute</a> <a id="1967" href="S.html#1858" class="Bound">s</a> <a id="1969" href="Relation.Binary.HeterogeneousEquality.Core.html#681" class="Datatype Operator">≅</a> <a id="1971" href="S.html#1058" class="Field">sncommute</a> <a id="1981" href="S.html#1860" class="Bound">t</a><a id="1982" class="Symbol">)</a>
              <a id="1998" class="Symbol">→</a> <a id="2000" href="S.html#1858" class="Bound">s</a> <a id="2002" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2004" href="S.html#1860" class="Bound">t</a>
    <a id="2010" href="S.html#1685" class="Function">snat-cong</a> <a id="2020" class="Symbol">_</a> <a id="2022" class="Symbol">_</a> <a id="2024" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2029" href="Relation.Binary.HeterogeneousEquality.Core.html#740" class="InductiveConstructor">refl</a> <a id="2034" class="Symbol">=</a> <a id="2036" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2042" class="Comment">--This is quite simlar to the answer of </a>
<a id="2083" class="Comment">--</a>
<a id="2086" class="Comment">--    Equality on dependent record types</a>
<a id="2127" class="Comment">--    https://stackoverflow.com/questions/37488098/equality-on-dependent-record-types</a>
<a id="2213" class="Comment">--</a>
<a id="2216" class="Comment">--So it should work something like</a>
<a id="2251" class="Comment">--</a>
<a id="2254" class="Comment">--    snat-cong s t refl refl = refl</a>
<a id="2291" class="Comment">--</a>
<a id="2294" class="Comment">--but it gives an error like this.</a>
<a id="2329" class="Comment">--</a>
<a id="2332" class="Comment">--    .sncommute i j f != sncommute t i j f of type</a>
<a id="2384" class="Comment">--    .SMap f (snmap t i) ≡ snmap t j</a>
<a id="2422" class="Comment">--</a>
<a id="2425" class="Comment">--Is there any help?</a>
</pre></body></html>